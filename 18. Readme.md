
# üåê EtherChannel Lab Documentation

## üñ•Ô∏è Lab Overview

This lab demonstrates an enterprise EtherChannel setup using:

- **2 Access Layer Switches (ASW1, ASW2)** ‚Äî Layer 2 switches.
- **2 Distribution Layer Switches (DSW1, DSW2)** ‚Äî Layer 3 switches.
- EtherChannels implemented with different protocols:
  - **LACP (ASW1 ‚Üî DSW1)**
  - **PAgP (ASW2 ‚Üî DSW2)**
  - **Static Layer 3 EtherChannel (DSW1 ‚Üî DSW2)**

---

## üß™ Topology Summary

- **ASW1** ‚Üî **DSW1**: LACP (Layer 2 trunk)
- **ASW2** ‚Üî **DSW2**: PAgP (Layer 2 trunk)
- **DSW1** ‚Üî **DSW2**: Static Layer 3 EtherChannel (10.0.0.0/30)
- Inter-VLAN routing and static routes are configured on DSWs.

---

## üîß Configuration Breakdown

### ASW1 (LACP to DSW1)
```bash
interface range g0/1-2
 channel-group 1 mode active
interface port-channel1
 switchport mode trunk
do show etherchannel load-balance
port-channel load-balance src-dst-ip
```

---

### ASW2 (PAgP to DSW2)
```bash
interface range g0/1-2
 channel-group 1 mode desirable
interface port-channel1
 switchport mode trunk
do show etherchannel load-balance
port-channel load-balance src-dst-ip
```

---

### DSW1 (LACP to ASW1 and Static to DSW2)
```bash
! To ASW1
interface range g1/0/3-4
 channel-group 1 mode active
interface port-channel1
 switchport mode trunk

! To DSW2 (Layer 3)
interface range g1/0/1-2
 no switchport
 channel-group 2 mode on
interface port-channel2
 ip address 10.0.0.1 255.255.255.252
exit

ip routing
ip route 172.16.2.0 255.255.255.255 10.0.0.2
```

---

### DSW2 (PAgP to ASW2 and Static to DSW1)
```bash
! To ASW2
interface range g1/0/3-4
 channel-group 1 mode desirable
interface port-channel1
 switchport mode trunk

! To DSW1 (Layer 3)
interface range g1/0/1-2
 no switchport
 channel-group 2 mode on
interface port-channel2
 ip address 10.0.0.2 255.255.255.252
exit

ip routing
ip route 172.16.1.0 255.255.255.0 10.0.0.1
```

---

## üìä `show etherchannel summary` Output Explained

From the screenshot, we see:

```
Flags: 
D - Down
P - In Port-channel
I - Stand-alone
H - Hot-standby (LACP only)
R - Layer3
S - Layer2
s - suspended
U - In use
f - Failed to allocate aggregator
u - Unsuitable for bundling
w - Waiting to be aggregated
d - Default port
```

### Important Flags in Use:
- **P**: Interface is actively participating in the Port-channel.
- **S**: This is a Layer 2 Port-channel.
- **U**: Port-channel is in use.
- **Number of aggregators: 1** ‚Üí EtherChannel successfully formed.

This means the PAgP configuration on DSW2 with ASW2 is **UP and working** properly.

---

## ‚úÖ Verification Commands Used

```bash
do show etherchannel summary
do show etherchannel port-channel
do show interfaces port-channel1
do show interfaces port-channel2
do show ip route
```

---

## üß† Key Concepts

- **LACP (Link Aggregation Control Protocol)**: Open standard, mode `active/passive`.
- **PAgP (Port Aggregation Protocol)**: Cisco proprietary, mode `auto/desirable`.
- **Static EtherChannel**: No negotiation, both sides must match perfectly.
- **Layer 3 EtherChannel**: No `switchport`, IP is assigned directly to Port-channel interface.

---

## üßµ Suggestions

- Ensure both ends of EtherChannel match protocol and mode.
- Always verify trunking and VLANs with `show interfaces trunk`.
- Use `src-dst-ip` load-balancing for better distribution in routed networks.

---

üõ†Ô∏è *Document generated by ChatGPT based on real lab config and outputs.*
